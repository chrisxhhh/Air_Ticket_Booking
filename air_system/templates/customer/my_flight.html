{% extends 'index.html' %}

{% block content %}
<div class="container" style="height:100px"></div>
    <div class="container mx-auto" >
    {% for item in future_tickets %}
        <div class="row gy-2 gx-3 " style="height:75px">
            <div class="col-md-1 px-0 my-auto">
                    <div class="col">
                        <h6 class="text-muted m-auto">{{item['dept_date']}}</h6>
                    </div>
                    <div class="col">
                        <h3 class=" m-auto">{{item['dept_time']}}</h3>
                    </div>
            </div>


            <div class="col-md-auto m-auto">
                <h1 class="display-4">{{item['dept_airport']}}</h1>
            </div>
            <div class="col-md-5 mx-auto ">
                <div class="row py-0 ">
                    <p class="text-center align-bottom pb-0 mb-0 display-6">{{item['flight_num']}}</p>
                </div>
                <div class="row ">
                    <hr style="margin-bottom:0">
                </div>
                <div class="row py-0">
                    <p class="text-muted text-center pt-0 fs-6">{{item['airline']}}</p>
                </div>
            </div>
            <div class="col-md-auto m-auto">
                <h1 class="display-4">{{item['arr_airport']}}</h1>
            </div>

            <div class="col-md-1 m-auto">
            {% if item['status'] == "delay"%}

                <div class="badge bg-warning text-wrap" style="width: 4rem;">
                    {{item['status']}}
                </div>
            {% elif item['status'] == "canceled"%}}
                <div class="badge bg-danger text-dark text-wrap" style="width: 4rem;">
                    {{item['status']}}
                </div>
            {% else %}
                <div class="badge bg-success text-wrap" style="width: 4rem;">
                    {{item['status']}}
                </div>
            {%endif%}
            </div>

            <div class="col-md-1 m-auto">
                <div class="col mb-0">
                    <p class="fs-5 align-bottom pb-0 mb-0"> ${{item['sold_price']}}</p>
                </div>
                <div class="col">
                     <p class="fs-5 align-bottom pb-0 mb-0"> {{item['travel_class']}}</p>
                </div>
            </div>
            <div class="col-md-1 my-auto">
                <form method="post">
                    <input type = "hidden" name = "ID" value = "{{item['ID']}}" />
                    <button class="btn btn-outline-danger btn-sm" type="submit pt-0 mt-0">Cancel</button></a>
                </form>


            </div>

        </div>
        <hr class="my-3" style="height:3px">
    {%endfor%}
    </div>

    <div style="height:100px"></div>

    <div class="container mx-auto" >
        <h1 class="display-5">Previous Flight</h1>
    {% for item in history_tickets %}
        <div class="row gy-2 gx-3 " style="height:75px">
            <div class="col-md-1 px-0 my-auto">
                    <div class="col">
                        <h6 class="text-muted m-auto">{{item['dept_date']}}</h6>
                    </div>
                    <div class="col">
                        <h3 class=" m-auto">{{item['dept_time']}}</h3>
                    </div>
            </div>


            <div class="col-md-auto m-auto">
                <h1 class="display-4">{{item['dept_airport']}}</h1>
            </div>
            <div class="col-md-5 mx-auto ">
                <div class="row py-0 ">
                    <p class="text-center align-bottom pb-0 mb-0 display-6">{{item['flight_num']}}</p>
                </div>
                <div class="row ">
                    <hr style="margin-bottom:0">
                </div>
                <div class="row py-0">
                    <p class="text-muted text-center pt-0 fs-6">{{item['airline']}}</p>
                </div>
            </div>
            <div class="col-md-auto m-auto">
                <h1 class="display-4">{{item['arr_airport']}}</h1>
            </div>

            <div class="col-md-1 m-auto">
            {% if item['status'] == "delay"%}

                <div class="badge bg-warning text-wrap" style="width: 4rem;">
                    {{item['status']}}
                </div>
            {% elif item['status'] == "canceled"%}}
                <div class="badge bg-danger text-dark text-wrap" style="width: 4rem;">
                    {{item['status']}}
                </div>
            {% else %}
                <div class="badge bg-success text-wrap" style="width: 4rem;">
                    {{item['status']}}
                </div>
            {%endif%}
            </div>

            <div class="col-md-1 m-auto">
                <div class="col mb-0">
                    <p class="fs-5 align-bottom pb-0 mb-0"> ${{item['sold_price']}}</p>
                </div>
                <div class="col">
                     <p class="fs-5 align-bottom pb-0 mb-0"> {{item['travel_class']}}</p>
                </div>
            </div>
            <div class="col-md-1 my-auto">
                <a href="{{url_for('comment', ID=item['ID'])}}">
                    {% if item['rate'] == None %}
                        <button class="btn btn-outline-success btn-sm" type="button pt-0 mt-0">Rate</button>
                    {% else %}
                        <button class="btn btn-outline-secondary btn-sm" type="button pt-0 mt-0">Rated</button>
                    {% endif %}
                </a>
            </div>

        </div>
        <hr class="my-3" style="height:3px">
    {%endfor%}
    </div>
{% endblock %}